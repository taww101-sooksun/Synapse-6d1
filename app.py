import streamlit as st
import numpy as np

st.title("üéº MATRIX_V2: Vocal & Key Tuning")
st.write("‡∏à‡∏π‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏û‡∏¥‡∏Å‡∏±‡∏î 147 ‡πÅ‡∏•‡∏∞ 252 | ‡∏™‡πÇ‡∏•‡πÅ‡∏Å‡∏ô: '‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ ‡πÑ‡∏°‡πà‡πÄ‡∏à‡πá‡∏ö‡∏ï‡∏±‡∏ß'")

def generate_vocal_tone(freq, label, note, color):
    t = np.linspace(0, 4, 44100 * 4)
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏• (Warm Sine Wave)
    tone = np.sin(freq * 2 * np.pi * t) * 0.5
    st.subheader(f"‡∏°‡∏¥‡∏ï‡∏¥‡πÄ‡∏™‡∏µ‡∏¢‡∏á: {label}")
    st.write(f"‡∏û‡∏¥‡∏Å‡∏±‡∏î: {freq} Hz | ‡∏Ñ‡∏µ‡∏¢‡πå‡∏î‡∏ô‡∏ï‡∏£‡∏µ: **{note}**")
    st.audio(tone, sample_rate=44100)

# --- ‡∏£‡∏±‡∏ô‡∏°‡∏¥‡∏ï‡∏¥‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢ ---
with st.container():
    generate_vocal_tone(147.0, "Male Vocal (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡πà‡∏á)", "D3 (Re)", "blue")

# --- ‡∏£‡∏±‡∏ô‡∏°‡∏¥‡∏ï‡∏¥‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á ---
with st.container():
    generate_vocal_tone(252.0, "Female Vocal (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô)", "B3 (Ti)", "pink")

# --- ‡∏°‡∏¥‡∏ï‡∏¥‡∏ú‡∏™‡∏° (The Harmony) ---
if st.button("‡∏£‡∏±‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏°‡∏¥‡∏ï‡∏¥ (Harmony Sync)"):
    t = np.linspace(0, 5, 44100 * 5)
    harmony = (np.sin(147 * 2 * np.pi * t) + np.sin(252 * 2 * np.pi * t)) * 0.3
    st.write("‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á **D3** ‡πÅ‡∏•‡∏∞ **B3** (‡∏Ñ‡∏π‡πà‡πÄ‡∏°‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ã‡∏¥‡∏Å‡∏ã‡πå)")
    st.audio(harmony, sample_rate=44100)
    st.success("‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏∏‡∏ç‡πÅ‡∏à 44 ‡∏î‡∏≠‡∏Å ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö!")
