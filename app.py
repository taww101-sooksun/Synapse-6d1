import streamlit as st
import numpy as np

st.title("üé§ MATRIX_V2: Vocal Synthesizer")
st.write("‡∏£‡∏´‡∏±‡∏™: 6802721088 x 61244252 | '‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ ‡πÑ‡∏°‡πà‡πÄ‡∏à‡πá‡∏ö‡∏ï‡∏±‡∏ß'")

def generate_vocal_singing(freq, duration=6):
    sr = 44100
    t = np.linspace(0, duration, int(sr * duration), False)
    
    # 1. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å (Vocal Cord Vibration)
    # ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏¢ (Sawtooth) ‡∏ú‡∏™‡∏° Sine ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ Harmonics ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ
    base_wave = 0.5 * np.sin(2 * np.pi * freq * t) + 0.2 * (t * freq % 1 - 0.5)
    
    # 2. ‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏±‡∏ö‡∏õ‡∏≤‡∏Å (Vowel Modulation - ‡∏™‡∏£‡∏∞ Ooo -> Aaa)
    # ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ï‡πà‡∏≥‡∏°‡∏≤‡πÅ‡∏Å‡∏ß‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå
    vibrato = 1 + 0.02 * np.sin(2 * np.pi * 5 * t) # ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏±‡πà‡∏ô‡πÅ‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡∏≠ 5Hz
    mouth_open = (np.sin(2 * np.pi * 0.5 * t) + 1) / 2 # ‡∏Ç‡∏¢‡∏±‡∏ö‡∏õ‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡πÜ 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    
    # 3. ‡πÉ‡∏™‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏±‡∏á‡∏ß‡∏≤‡∏ô (Resonance)
    vocal_signal = base_wave * vibrato * mouth_open
    
    return vocal_signal * 0.2, sr

if st.button("üé∂ ‡πÉ‡∏´‡πâ‡∏°‡∏¥‡∏ï‡∏¥‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á"):
    # ‡∏£‡πâ‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ê‡∏≤‡∏ô 147 (‡∏ä‡∏≤‡∏¢) ‡πÅ‡∏•‡∏∞ 252 (‡∏´‡∏ç‡∏¥‡∏á) ‡∏ï‡∏≤‡∏°‡∏£‡∏´‡∏±‡∏™ 61244252
    male_vox, sr = generate_vocal_singing(147)
    female_vox, _ = generate_vocal_singing(252)
    
    # ‡∏ú‡∏™‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡πâ‡∏≠‡∏á (Harmony)
    st.subheader("‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡πâ‡∏≠‡∏á‡∏ä‡∏≤‡∏¢ (‡∏ê‡∏≤‡∏ô 147Hz - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡πà‡∏á)")
    st.audio(male_vox, sample_rate=sr)
    
    st.subheader("‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡πâ‡∏≠‡∏á‡∏´‡∏ç‡∏¥‡∏á (‡∏ê‡∏≤‡∏ô 252Hz - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô)")
    st.audio(female_vox, sample_rate=sr)
    
    st.success("‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô... ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÇ‡∏≠‡πÇ‡∏ã‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏±‡∏ß")
