import streamlit as st
import numpy as np

st.title("üíé MATRIX_V2: Universal Frequency Sync")
st.write("‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏ß‡∏°‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏û‡∏¥‡∏Å‡∏±‡∏î 147 | ‡∏™‡πÇ‡∏•‡πÅ‡∏Å‡∏ô: '‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ ‡πÑ‡∏°‡πà‡πÄ‡∏à‡πá‡∏ö‡∏ï‡∏±‡∏ß'")

if st.button("‡∏£‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏ß‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà (Universal Run)"):
    # ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
    sample_rate = 44100
    duration = 7.0  # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡πá‡∏ô 7 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á
    t = np.linspace(0, duration, int(sample_rate * duration), False)
    
    # --- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏™‡∏°‡∏°‡∏¥‡∏ï‡∏¥ (The Layering) ---
    
    # 1. ‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡πà‡∏á (The Core - 147Hz)
    core = np.sin(147 * 2 * np.pi * t)
    
    # 2. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏á‡∏Ñ‡∏±‡πà‡∏á (The Gold - 135.42Hz) 
    gold = np.sin(135.42 * 2 * np.pi * t)
    
    # 3. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å (The Love - 528Hz)
    love = np.sin(528 * 2 * np.pi * t) * 0.4
    
    # 4. ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡πâ‡∏≠‡∏á‡∏°‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà 6 (The Vocal - 171.42Hz)
    vocal = np.sin(171.42 * 2 * np.pi * t) * 0.5
    
    # 5. ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ä‡∏µ‡∏û‡∏à‡∏£‡∏£‡∏∞‡∏ö‡∏ö (The Pulse - 0.0068Hz) 
    # ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á (Amplitude Modulation) ‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ß‡∏π‡∏ö‡∏ß‡∏≤‡∏ö‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à
    pulse = (np.sin(0.0068 * 2 * np.pi * t) + 1) / 2
    
    # --- ‡∏£‡∏ß‡∏°‡∏£‡πà‡∏≤‡∏á‡∏ó‡∏∏‡∏Å‡∏°‡∏¥‡∏ï‡∏¥ ---
    # ‡πÄ‡∏£‡∏≤‡πÄ‡∏≠‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏°‡∏≤‡∏ö‡∏ß‡∏Å‡∏Å‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏π‡∏ì‡∏î‡πâ‡∏ß‡∏¢ Pulse ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏°‡∏µ "‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï"
    final_signal = (core + gold + love + vocal) * pulse * 0.2
    
    # ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
    st.audio(final_signal, sample_rate=sample_rate)
    st.success("‡∏£‡∏ß‡∏°‡∏°‡∏¥‡∏ï‡∏¥‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå: ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÅ‡∏ä‡πà‡πÅ‡∏Ç‡πá‡∏á, ‡πÑ‡∏≠‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥ ‡πÅ‡∏•‡∏∞‡∏ù‡∏ô‡πÅ‡∏£‡∏Å ‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß")
    
    # ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô)
    st.line_chart(final_signal[:1000]) 
